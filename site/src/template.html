<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
        <title><%= htmlWebpackPlugin.options.title %></title>
        <meta name="google-site-verification" content="3iZeR4iOMlqM4XPIx0cPII9Qgi6Xg9QOiuwpL_7MFh0" />
    </head>
    <body>
        <div id="map"></div>
        <dialog closedby="any">
            <h1>
                <div style="display: flex; justify-content: space-between">
                    <div>About MetroMinder</div>
                    <button autofocus="true" onclick="document.querySelector('dialog').close()">Back to map</button>
                </div>
            </h1>
            
            <h2>A live Victorian PT tracker</h2>
            <p>This site maps realtime positions of trains, trams and buses using public data distributed by Transport Victoria.</p>
            <p><strong>Use information on this site as a guide only. Do not rely on its accuracy.</strong> This site is not endorsed by the DTP.</p>
            <p>Realtime data including positions, service, arrival and departure information are sourced from <a href="https://gtfs.org/documentation/overview/#gtfs-realtime">GTFS Realtime</a> APIs made available by the Victorian Department of Transport and Planning and consumed by other third party software such as Google Maps. As such, the quality of the information on this site is subject to the DTP data's quality (and any upstream outages, omissions and errors). It is the same data used by the PTV app and website, but they do not use the public API layer so the PTV app may still be able to display realtime information when outages affect this and other third party apps. Vehicle positions appear to be updated in the API about once a minute.</p>
            <p>Arrival and departure information is sourced exclusively from the PTV GTFS Realtime Trip Updates APIs and does not include static timetable data (such as from the GTFS Schedule dataset) or the PTV Timetable API. For more complete arrival and departure information, visit the PTV or other sources.</p>
            <p>
                Features include:
                <ul>
                    <li>Display coloured routes and vehicle positions and directions on the map</li>
                    <li>Optional display of stop markers</li>
                    <li>Select and filter individual lines or line groups</li>
                    <li>
                        Details on each vehicle:
                        <ul>
                            <li>Service destination</li>
                            <li>Model and consist</li>
                            <li>Future arrival stops</li>
                            <li>Future arrival platforms/bays</li>
                            <li>Future arrival times</li>
                        </ul>
                    </li>
                    <li>
                        Details on each stop:
                        <ul>
                            <li>Routes servicing the stop</li>
                            <li>Set, add and filter routes displayed</li>
                            <li>Future departure service destinations</li>
                            <li>Future departure platforms</li>
                            <li>Future departure times</li>
                        </ul>
                    </li>
                    <li>Display your own position and orientation</li>
                </ul>
            </p>
            
            <h2>Usage</h2>
            <p>Most interactions follow conventional patterns. The map can be interacted with using the buttons on the left or mouse/trackpad/touch gestures, and supports fullscreen, rotation, zoom, panning and returning to initial view.</p>
            <p>The compass button's functionality differs between mouse and touch. When using a mouse, click on the compass, hold and drag to the right to rotate the map. Click and release on the button to return to the default rotation (north pointing directly up).</p>
            <p>
                When using a touchscreen, the compass button has three modes which are cycled through when pressed. To return to the default rotation (north pointing directly up), press on the button until you get there.
                <ul>
                    <li>White: pinching the map zooms, pans and rotates.</li>
                    <li>Orange: acts as a compass with the map's rotation continuously following the direction your device is facing in the real world.</li>
                    <li>Grey: the map's rotation is locked to either the default rotation or the final compass rotation from orange mode - pinching the map zooms and pans but does not rotate.</li>
                </ul>
            </p>
            <p>You can zoom in and out using the plus/minus zoom buttons or by pinching on the trackpad or touchscreen. You can also zoom to a rectangle that you can specify by holding shift while you click and drag.</p>
            <p>
                Use the search button to search for a stop (or also route depending on the page). When you search for a stop or click on the stop marker, there are buttons to Set, Add and Filter. These change which routes are displayed on the map. Consider examples with an initial state of the Cranbourne and Frankston lines visible and hitting a button on Huntingdale station (which is serviced by the Cranbourne and Pakenham lines).
                <ul>
                    <li>Set: add all corresponding routes and remove all other routes. If I hit Set routes, the Pakenham line will be shown in addition to the Cranbourne line, and the Frankston line will be hidden.</li>
                    <li>Add: add all corresponding routes (an OR operation). If I hit Add routes, the Pakenham line will be shown in addition to the Cranbourne and Frankston lines.</li>
                    <li>Filter: remove all other routes (an AND operation). If I hit Filter routes, the Frankston line will be hidden, and the Cranbourne line will remain shown.</li>
                </ul>
            </p>
            <p>This can be useful if you want to see trains running between two stations. Suppose that I need to take a single train from Caulfield station to Parliament station. To view relevant trains, I can first Set lines on Caulfield station then Filter lines on Parliament station (removing the Frankston line).</p>
            <p>Alternatively, suppose that I wish to take the train from Box Hill station to Dandenong station, although to do so I must transfer in the city. To view relevant trains, I can first Set routes on Box Hill station then Add routes on Dandenong station.</p>
            <p>You can show and hide stop markers, routes and presets using the layer control in the top right. Performance degrades a bit the more stop and vehicle markers there are, so filter the routes that you need and hide stop markers for the best performance.</p>
            
            <h2>Other sites</h2>
            <p>In addition to PTV and operator websites and apps, there are a number of third party projects, commercial and not, that use the DTP public transport APIs.</p>
            <p>
                Some other projects, covering more public transport modes, include:
                <ul>
                    <li><a href="https://transportvic.me">TransportVic</a>: Realtime service details and station PID mockups</li>
                    <li><a href="https://transit.saikumarmk.com">Mini Melbourne 3D</a>: Realtime statewide vehicle position and station map</li>
                    <li><a href="https://anytrip.com.au/region/vic">AnyTrip</a>: Realtime vehicle position and station map with arrival details, covering multiple states</li>
                    <li><a href="https://tripview.com.au">TripView</a>: Realtime vehicle position, station and route map with arrival details, filtered by station, covering multiple states</li>
                    <li><a href="https://transport.domino6658.com">Live Trains Map</a>: Realtime train position map supporting search for specific carriages/trains and filtering by train types</li>
                </ul>
            </p>
            <p>This site was initially inspired by the <a href="https://venturabus.com.au/live-tracking">Ventura Tracker</a> mobile app by BusMinder. I wanted a similar app for the train network that could select a line and see its route, trains and stations on a live map with a simple and intuitive interface. Nothing that I could find perfectly fit or focused on that so I made this - maybe it will work for you too.</p>
            
            <h2>Attribution</h2>
            <p>By <a href="https://nhan.au">Nhan</a>.</p>
            <p>GTFS Schedule and GTFS Realtime data and transport mode pictograms &copy; State of Victoria (<a href="https://opendata.transport.vic.gov.au">Department of Transport and Planning</a>) licensed under a <a href="https://creativecommons.org/licenses/by/4.0">Creative Commons Attribution 4.0 International licence</a>.</p>
            <p>Rolling stock information, codes and names from <a href="https://cmsportal.metrotrains.com.au/docnum.aspx?id=A8520">Metro Trains Melbourne</a> and <a href="https://vicsig.net/suburban/fleet">Vicsig</a>.</p>
            <p>Map tiles &copy; <a href="https://openstreetmap.org/copyright">OpenStreetMap</a>.</p>
            <p>Built using <a href="https://leafletjs.com">Leaflet</a>.</p>
            <p>See the <a href="https://github.com/nhtnhanbn/metrominder">README</a> for full software details and build instructions.</p>
            <p>Shoutout to the Transport Engineers at Monash and Monash Railway Express.</p>
        </dialog>
    </body>
</html>
